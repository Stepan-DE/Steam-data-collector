# **Обновления и планы**

## **История развития проекта:**
Как уже было сказано этот проект создан по мотивам утреянного проекта и довольно забано наблюдать над тем как ты делаешь что то снова, но твои навыки стали намного лучше и теперь менее чемза неделю мне удалось сделать, то на что до этого уходили месяцы упорной работы.

В этом файле будут все существенные обновления и информация об актуальной версии моего проекта.

- в 9 февраля была начата работа над востановлением проекта: реализован черновой вариант ETL процесса
- в 10 февраля первая версия проекта (2.0) была опубликована, именно это послужило осной дальнейшего.

- К 15 февраля в проекте реализован полноценный ETL-процесс.

---

### **Обновление от 15 февраля 2025 — завершён базовый ETL-пайплайн** (Версия 2.1)

#### **1. Пользовательский интерфейс и визуализация процесса**
- Добавлен цветной вывод в консоль с использованием ANSI-кодов для наглядного отображения статуса операций.
- Вывод сталл структурирован: для каждой игры отображаются ID, порядковый номер, название, выровненные отступы и статус (`[ OK ]` / `[ ERROR ]`).
- Реализован промежуточный вывод аналитики в реальном времени (количество обработанных записей, ошибки, прогресс).

#### **2. Обработка данных и надёжность**
- Полностью переработан модуль `data_unpacker.py`: теперь он гарантирует одинаковую структуру данных для всех записей, что исключает ошибки при вставке в БД и повышает согласованность.
- Расширена система обработки исключений: любая ошибка перехватывается и логируется, программа не прерывается.
- Реализована отказоустойчивость при потере соединения с API или БД: скрипт ожидает восстановления связи и продолжает обработку без потери данных.

#### **3. Конфигурация и окружение**
- Все глобальные настройки (пути к файлам, глобальные переменные) вынесены в отдельный файл `python_config.py` — теперь конфигурация централизована и легко изменяется.

#### **4. Файловая система и управление состоянием**
- Добавлена функция очистки временных файлов с ID, что гарантирует достоверность статистики для каждой сессии и исключает смешивание данных между запусками.

#### **5. База данных и схемы**
- Проведена нормализация таблиц в PostgreSQL: каждая характеристика игры (название, цена, дата выхода и т.д.) хранится в отдельном столбце; создана отдельная таблица для жанров со связью «многие ко многим».
- Разработана ER-диаграмма (`ER_diagram.png`), наглядно отражающая структуру базы данных.
- Модуль `db_loader.py` полностью переписан: код стал компактнее, производительность повышена, устранён баг с дублированием сообщений в консоли.

#### **6. Качество кода**
- Проведён рефакторинг: удалён мёртвый код, неиспользуемые импорты и избыточные конструкции.
- Исправлены многочисленные баги, повышена общая стабильность работы ETL-процесса.

#### **Итоги:**
На текущий момент полностью завершён ETL pipeline сбору и загрузке данных

---

### **Следующие этапы развития проекта:**
- **Глобальные тесты:** провести полный анализ игровых id в виду того то несколько id могут указывать на одни и те же данные
- **Аналитика:** таблицы нормализваны, значит можно строить игровую аналитику и реализовать аналитику работы ETL-процесса (сделать отчёты более информативными)
- **Интеграция с Telegram:** Создание бота для удалённого мониторинга статуса задач и получения уведомлений.

Это всё что касается кодовой базы, остальные улучшения будут направлены в основном на автотизацию проекта, а именно:

- **Автоматизация и оркестрация:** Настройка Apache Airflow для управления расписанием запусков пайплайна и обработкой зависимостей между задачами.
- **Плановое обновление данных:** Реализация инкрементального обновления для отслеживания изменений (цен, рейтингов, новых релизов) и построения исторической аналитики.
- **Визуализация и аналитика:** Создание автоматически обновляемых дашбордов или веб-интерфейса для исследования данных.
- **Пользовательский интерфейс:** Разработка удобного и интуитивно понятного веб-интерфейса для управления пайплайном и просмотра результатов.
- **Деплой на сервер:** Развёртывание системы на выделенном сервере для обеспечения круглосуточной работы.


